# lctime

Finally, simple, familiar, locale-based datetime formatting.

[![GoDoc](https://godoc.org/github.com/variadico/lctime?status.svg)](https://godoc.org/github.com/variadico/lctime)
[![Build Status](https://drone.io/github.com/variadico/lctime/status.png)](https://drone.io/github.com/variadico/lctime/latest)
[![Coverage Status](https://coveralls.io/repos/variadico/lctime/badge.svg?branch=master&service=github)](https://coveralls.io/github/variadico/lctime?branch=master)

**Work in progress! Not prod ready! Beware!**

## Install

```
go get -u github.com/variadico/lctime
```

## Usage

```go
// Default locale is based on env vars or en_US if none are set.
fmt.Println(lctime.Strftime("%c", time.Now()))
// prints: Mon 14 Dec 2015 10:31:56 PM PST

lctime.SetLocale("es_MX")
fmt.Println(lctime.Strftime("%c", time.Now()))
// prints: lun 14 dic 2015 22:31:56 PST
```

## The problem with the Go standard library

Go's standard library `time` is fine most of the time. However, it's currently
impossible for the Go standard library to format dates based on a user's locale
or langauge setting. Unfortunately, that means code like this, doesn't work.

```go
d := time.Date(2006, 5, 4, 3, 2, 1, 0, time.UTC)
fmt.Println(d.Format("02 de enero de 2006"))
// got:  04 de enero de 2006
// want: 04 de mayo de 2006
```

## The solution offered by lctime

`lctime` brings the familiar `setlocale` and `strftime` functions found in other
programming languages like C, Python, or PHP. The formats and translations used
for this package come from the [glibc locale files], with close to 300 locales.

This may not be the most elegant answer, like Go's `2006 January 02` thing, but
it sure is simple and effective. Parsing codes is way easier than natural
language. Most important of all, non-English speakers will get the luxury of
dates they're familiar with.

Locale data is just Go code, generated by [go-bindata]. This means you don't
have to worry about shipping anything extra. Just import `lctime` and `go build`
your app like normal.

## Known issues

* Not all directives have been fully implemented or well tested. Though, mostly
for locales that don't start their week on Sunday or other non-Western
calendars.

[glibc locale files]: http://lh.2xlibre.net/
[go-bindata]: https://github.com/jteeuwen/go-bindata
